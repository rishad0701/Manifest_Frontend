!function(o){"use strict";function t(t){this.options=o.extend({holder:null,fixedClass:"fixed",compareBlock:"div",blockHeight:!1,blockTop:!1,heightRatio:!1},t),this.init()}var i=jQuery(window);t.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents())},findElements:function(){this.holder=jQuery(this.options.holder),this.compareBlock=jQuery(this.options.compareBlock)},attachEvents:function(){var o=this;o.onScroll(),i.bind("scroll resize orientationchange",function(){o.onScroll()})},onScroll:function(){var t=this;this.options.blockHeight&&(this.scrollHeight=this.compareBlock.innerHeight()),this.options.blockTop&&(this.scrollHeight=this.compareBlock.offset().top),this.options.heightRatio&&(this.scrollHeight=this.options.heightRatio),"string"==typeof this.options.addBlocks&&o(this.options.addBlocks).each(function(){t.scrollHeight+=jQuery(this).outerHeight()}),t.scrollTop=i.scrollTop(),t.scrollTop>t.scrollHeight?t.holder.addClass(t.options.fixedClass):t.holder.removeClass(t.options.fixedClass)},makeCallback:function(o){if("function"==typeof this.options[o]){var t=Array.prototype.slice.call(arguments);t.shift(),this.options[o].apply(this,t)}}},o.fn.classOnScroll=function(i){return this.each(function(){var s=new t(o.extend({},i,{holder:this}));o.data(this,"ClassOnScroll",s)})},window.ClassOnScroll=t}(jQuery);